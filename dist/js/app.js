"use strict";var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();function _possibleConstructorReturn(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function _inherits(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var Emitter=function(){function e(){_classCallCheck(this,e)}_createClass(e,[{key:"on",value:function e(t,i){this._callbacks=this._callbacks||{};if(!this._callbacks[t]){this._callbacks[t]=[]}this._callbacks[t].push(i);return this}},{key:"emit",value:function e(t){this._callbacks=this._callbacks||{};var i=this._callbacks[t];if(i){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++){r[a-1]=arguments[a]}for(var o=i,l=true,s=0,o=l?o:o[Symbol.iterator]();;){var u;if(l){if(s>=o.length)break;u=o[s++]}else{s=o.next();if(s.done)break;u=s.value}var d=u;d.apply(this,r)}}return this}},{key:"off",value:function e(t,i){if(!this._callbacks||arguments.length===0){this._callbacks={};return this}var n=this._callbacks[t];if(!n){return this}if(arguments.length===1){delete this._callbacks[t];return this}for(var r=0;r<n.length;r++){var a=n[r];if(a===i){n.splice(r,1);break}}return this}}]);return e}();var Dropzone=function(e){_inherits(t,e);_createClass(t,null,[{key:"initClass",value:function e(){this.prototype.Emitter=Emitter;this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];this.prototype.defaultOptions={url:null,method:"post",withCredentials:false,timeout:3e4,parallelUploads:2,uploadMultiple:false,chunking:false,forceChunking:false,chunkSize:2e6,parallelChunkUploads:false,retryChunks:false,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:false,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function e(){},params:function e(t,i,n){if(n){return{dzuuid:n.file.upload.uuid,dzchunkindex:n.index,dztotalfilesize:n.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:n.file.upload.totalChunkCount,dzchunkbyteoffset:n.index*this.options.chunkSize}}},accept:function e(t,i){return i()},chunksUploaded:function e(t,i){i()},fallback:function e(){var i=void 0;this.element.className=this.element.className+" dz-browser-not-supported";for(var n=this.element.getElementsByTagName("div"),r=true,a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var l=o;if(/(^| )dz-message($| )/.test(l.className)){i=l;l.className="dz-message";break}}if(!i){i=t.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(i)}var s=i.getElementsByTagName("span")[0];if(s){if(s.textContent!=null){s.textContent=this.options.dictFallbackMessage}else if(s.innerText!=null){s.innerText=this.options.dictFallbackMessage}}return this.element.appendChild(this.getFallbackForm())},resize:function e(t,i,n,r){var a={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height};var o=t.width/t.height;if(i==null&&n==null){i=a.srcWidth;n=a.srcHeight}else if(i==null){i=n*o}else if(n==null){n=i/o}i=Math.min(i,a.srcWidth);n=Math.min(n,a.srcHeight);var l=i/n;if(a.srcWidth>i||a.srcHeight>n){if(r==="crop"){if(o>l){a.srcHeight=t.height;a.srcWidth=a.srcHeight*l}else{a.srcWidth=t.width;a.srcHeight=a.srcWidth/l}}else if(r==="contain"){if(o>l){n=i/o}else{i=n*o}}else{throw new Error("Unknown resizeMethod '"+r+"'")}}a.srcX=(t.width-a.srcWidth)/2;a.srcY=(t.height-a.srcHeight)/2;a.trgWidth=i;a.trgHeight=n;return a},transformFile:function e(t,i){if((this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)){return this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,i)}else{return i(t)}},previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>',drop:function e(t){return this.element.classList.remove("dz-drag-hover")},dragstart:function e(t){},dragend:function e(t){return this.element.classList.remove("dz-drag-hover")},dragenter:function e(t){return this.element.classList.add("dz-drag-hover")},dragover:function e(t){return this.element.classList.add("dz-drag-hover")},dragleave:function e(t){return this.element.classList.remove("dz-drag-hover")},paste:function e(t){},reset:function e(){return this.element.classList.remove("dz-started")},addedfile:function e(i){var n=this;if(this.element===this.previewsContainer){this.element.classList.add("dz-started")}if(this.previewsContainer){i.previewElement=t.createElement(this.options.previewTemplate.trim());i.previewTemplate=i.previewElement;this.previewsContainer.appendChild(i.previewElement);for(var r=i.previewElement.querySelectorAll("[data-dz-name]"),a=true,o=0,r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{o=r.next();if(o.done)break;l=o.value}var s=l;s.textContent=i.name}for(var u=i.previewElement.querySelectorAll("[data-dz-size]"),d=true,c=0,u=d?u:u[Symbol.iterator]();;){if(d){if(c>=u.length)break;s=u[c++]}else{c=u.next();if(c.done)break;s=c.value}s.innerHTML=this.filesize(i.size)}if(this.options.addRemoveLinks){i._removeLink=t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>");i.previewElement.appendChild(i._removeLink)}var f=function e(r){r.preventDefault();r.stopPropagation();if(i.status===t.UPLOADING){return t.confirm(n.options.dictCancelUploadConfirmation,function(){return n.removeFile(i)})}else{if(n.options.dictRemoveFileConfirmation){return t.confirm(n.options.dictRemoveFileConfirmation,function(){return n.removeFile(i)})}else{return n.removeFile(i)}}};for(var p=i.previewElement.querySelectorAll("[data-dz-remove]"),h=true,v=0,p=h?p:p[Symbol.iterator]();;){var m;if(h){if(v>=p.length)break;m=p[v++]}else{v=p.next();if(v.done)break;m=v.value}var g=m;g.addEventListener("click",f)}}},removedfile:function e(t){if(t.previewElement!=null&&t.previewElement.parentNode!=null){t.previewElement.parentNode.removeChild(t.previewElement)}return this._updateMaxFilesReachedClass()},thumbnail:function e(t,i){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");for(var n=t.previewElement.querySelectorAll("[data-dz-thumbnail]"),r=true,a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var l=o;l.alt=t.name;l.src=i}return setTimeout(function(){return t.previewElement.classList.add("dz-image-preview")},1)}},error:function e(t,i){if(t.previewElement){t.previewElement.classList.add("dz-error");if(typeof i!=="String"&&i.error){i=i.error}for(var n=t.previewElement.querySelectorAll("[data-dz-errormessage]"),r=true,a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var l=o;l.textContent=i}}},errormultiple:function e(){},processing:function e(t){if(t.previewElement){t.previewElement.classList.add("dz-processing");if(t._removeLink){return t._removeLink.textContent=this.options.dictCancelUpload}}},processingmultiple:function e(){},uploadprogress:function e(t,i,n){if(t.previewElement){for(var r=t.previewElement.querySelectorAll("[data-dz-uploadprogress]"),a=true,o=0,r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{o=r.next();if(o.done)break;l=o.value}var s=l;s.nodeName==="PROGRESS"?s.value=i:s.style.width=i+"%"}}},totaluploadprogress:function e(){},sending:function e(){},sendingmultiple:function e(){},success:function e(t){if(t.previewElement){return t.previewElement.classList.add("dz-success")}},successmultiple:function e(){},canceled:function e(t){return this.emit("error",t,"Upload canceled.")},canceledmultiple:function e(){},complete:function e(t){if(t._removeLink){t._removeLink.textContent=this.options.dictRemoveFile}if(t.previewElement){return t.previewElement.classList.add("dz-complete")}},completemultiple:function e(){},maxfilesexceeded:function e(){},maxfilesreached:function e(){},queuecomplete:function e(){},addedfiles:function e(){}};this.prototype._thumbnailQueue=[];this.prototype._processingThumbnail=false}},{key:"extend",value:function e(t){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++){n[r-1]=arguments[r]}for(var a=n,o=true,l=0,a=o?a:a[Symbol.iterator]();;){var s;if(o){if(l>=a.length)break;s=a[l++]}else{l=a.next();if(l.done)break;s=l.value}var u=s;for(var d in u){var c=u[d];t[d]=c}}return t}}]);function t(e,i){_classCallCheck(this,t);var n=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));var r=void 0,a=void 0;n.element=e;n.version=t.version;n.defaultOptions.previewTemplate=n.defaultOptions.previewTemplate.replace(/\n*/g,"");n.clickableElements=[];n.listeners=[];n.files=[];if(typeof n.element==="string"){n.element=document.querySelector(n.element)}if(!n.element||n.element.nodeType==null){throw new Error("Invalid dropzone element.")}if(n.element.dropzone){throw new Error("Dropzone already attached.")}t.instances.push(n);n.element.dropzone=n;var o=(a=t.optionsForElement(n.element))!=null?a:{};n.options=t.extend({},n.defaultOptions,o,i!=null?i:{});if(n.options.forceFallback||!t.isBrowserSupported()){var l;return l=n.options.fallback.call(n),_possibleConstructorReturn(n,l)}if(n.options.url==null){n.options.url=n.element.getAttribute("action")}if(!n.options.url){throw new Error("No URL provided.")}if(n.options.acceptedFiles&&n.options.acceptedMimeTypes){throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.")}if(n.options.uploadMultiple&&n.options.chunking){throw new Error("You cannot set both: uploadMultiple and chunking.")}if(n.options.acceptedMimeTypes){n.options.acceptedFiles=n.options.acceptedMimeTypes;delete n.options.acceptedMimeTypes}if(n.options.renameFilename!=null){n.options.renameFile=function(e){return n.options.renameFilename.call(n,e.name,e)}}n.options.method=n.options.method.toUpperCase();if((r=n.getExistingFallback())&&r.parentNode){r.parentNode.removeChild(r)}if(n.options.previewsContainer!==false){if(n.options.previewsContainer){n.previewsContainer=t.getElement(n.options.previewsContainer,"previewsContainer")}else{n.previewsContainer=n.element}}if(n.options.clickable){if(n.options.clickable===true){n.clickableElements=[n.element]}else{n.clickableElements=t.getElements(n.options.clickable,"clickable")}}n.init();return n}_createClass(t,[{key:"getAcceptedFiles",value:function e(){return this.files.filter(function(e){return e.accepted}).map(function(e){return e})}},{key:"getRejectedFiles",value:function e(){return this.files.filter(function(e){return!e.accepted}).map(function(e){return e})}},{key:"getFilesWithStatus",value:function e(t){return this.files.filter(function(e){return e.status===t}).map(function(e){return e})}},{key:"getQueuedFiles",value:function e(){return this.getFilesWithStatus(t.QUEUED)}},{key:"getUploadingFiles",value:function e(){return this.getFilesWithStatus(t.UPLOADING)}},{key:"getAddedFiles",value:function e(){return this.getFilesWithStatus(t.ADDED)}},{key:"getActiveFiles",value:function e(){return this.files.filter(function(e){return e.status===t.UPLOADING||e.status===t.QUEUED}).map(function(e){return e})}},{key:"init",value:function e(){var i=this;if(this.element.tagName==="form"){this.element.setAttribute("enctype","multipart/form-data")}if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")){this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>"))}if(this.clickableElements.length){var n=function e(){if(i.hiddenFileInput){i.hiddenFileInput.parentNode.removeChild(i.hiddenFileInput)}i.hiddenFileInput=document.createElement("input");i.hiddenFileInput.setAttribute("type","file");if(i.options.maxFiles===null||i.options.maxFiles>1){i.hiddenFileInput.setAttribute("multiple","multiple")}i.hiddenFileInput.className="dz-hidden-input";if(i.options.acceptedFiles!==null){i.hiddenFileInput.setAttribute("accept",i.options.acceptedFiles)}if(i.options.capture!==null){i.hiddenFileInput.setAttribute("capture",i.options.capture)}i.hiddenFileInput.style.visibility="hidden";i.hiddenFileInput.style.position="absolute";i.hiddenFileInput.style.top="0";i.hiddenFileInput.style.left="0";i.hiddenFileInput.style.height="0";i.hiddenFileInput.style.width="0";document.querySelector(i.options.hiddenInputContainer).appendChild(i.hiddenFileInput);return i.hiddenFileInput.addEventListener("change",function(){var t=i.hiddenFileInput.files;if(t.length){for(var n=t,r=true,a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var l=o;i.addFile(l)}}i.emit("addedfiles",t);return e()})};n()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(var r=this.events,a=true,o=0,r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{o=r.next();if(o.done)break;l=o.value}var s=l;this.on(s,this.options[s])}this.on("uploadprogress",function(){return i.updateTotalUploadProgress()});this.on("removedfile",function(){return i.updateTotalUploadProgress()});this.on("canceled",function(e){return i.emit("complete",e)});this.on("complete",function(e){if(i.getAddedFiles().length===0&&i.getUploadingFiles().length===0&&i.getQueuedFiles().length===0){return setTimeout(function(){return i.emit("queuecomplete")},0)}});var u=function e(t){t.stopPropagation();if(t.preventDefault){return t.preventDefault()}else{return t.returnValue=false}};this.listeners=[{element:this.element,events:{dragstart:function e(t){return i.emit("dragstart",t)},dragenter:function e(t){u(t);return i.emit("dragenter",t)},dragover:function e(t){var n=void 0;try{n=t.dataTransfer.effectAllowed}catch(e){}t.dataTransfer.dropEffect="move"===n||"linkMove"===n?"move":"copy";u(t);return i.emit("dragover",t)},dragleave:function e(t){return i.emit("dragleave",t)},drop:function e(t){u(t);return i.drop(t)},dragend:function e(t){return i.emit("dragend",t)}}}];this.clickableElements.forEach(function(e){return i.listeners.push({element:e,events:{click:function n(r){if(e!==i.element||r.target===i.element||t.elementInside(r.target,i.element.querySelector(".dz-message"))){i.hiddenFileInput.click()}return true}}})});this.enable();return this.options.init.call(this)}},{key:"destroy",value:function e(){this.disable();this.removeAllFiles(true);if(this.hiddenFileInput!=null?this.hiddenFileInput.parentNode:undefined){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return t.instances.splice(t.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function e(){var t=void 0;var i=0;var n=0;var r=this.getActiveFiles();if(r.length){for(var a=this.getActiveFiles(),o=true,l=0,a=o?a:a[Symbol.iterator]();;){var s;if(o){if(l>=a.length)break;s=a[l++]}else{l=a.next();if(l.done)break;s=l.value}var u=s;i+=u.upload.bytesSent;n+=u.upload.total}t=100*i/n}else{t=100}return this.emit("totaluploadprogress",t,n,i)}},{key:"_getParamName",value:function e(t){if(typeof this.options.paramName==="function"){return this.options.paramName(t)}else{return""+this.options.paramName+(this.options.uploadMultiple?"["+t+"]":"")}}},{key:"_renameFile",value:function e(t){if(typeof this.options.renameFile!=="function"){return t.name}return this.options.renameFile(t)}},{key:"getFallbackForm",value:function e(){var i=void 0,n=void 0;if(i=this.getExistingFallback()){return i}var r='<div class="dz-fallback">';if(this.options.dictFallbackText){r+="<p>"+this.options.dictFallbackText+"</p>"}r+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':undefined)+' /><input type="submit" value="Upload!"></div>';var a=t.createElement(r);if(this.element.tagName!=="FORM"){n=t.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>');n.appendChild(a)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return n!=null?n:a}},{key:"getExistingFallback",value:function e(){var t=function e(t){for(var i=t,n=true,r=0,i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{r=i.next();if(r.done)break;a=r.value}var o=a;if(/(^| )fallback($| )/.test(o.className)){return o}}};var i=["div","form"];for(var n=0;n<i.length;n++){var r=i[n];var a;if(a=t(this.element.getElementsByTagName(r))){return a}}}},{key:"setupEventListeners",value:function e(){return this.listeners.map(function(e){return function(){var t=[];for(var i in e.events){var n=e.events[i];t.push(e.element.addEventListener(i,n,false))}return t}()})}},{key:"removeEventListeners",value:function e(){return this.listeners.map(function(e){return function(){var t=[];for(var i in e.events){var n=e.events[i];t.push(e.element.removeEventListener(i,n,false))}return t}()})}},{key:"disable",value:function e(){var t=this;this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")});this.removeEventListeners();return this.files.map(function(e){return t.cancelUpload(e)})}},{key:"enable",value:function e(){this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")});return this.setupEventListeners()}},{key:"filesize",value:function e(t){var i=0;var n="b";if(t>0){var r=["tb","gb","mb","kb","b"];for(var a=0;a<r.length;a++){var o=r[a];var l=Math.pow(this.options.filesizeBase,4-a)/10;if(t>=l){i=t/Math.pow(this.options.filesizeBase,4-a);n=o;break}}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+this.options.dictFileSizeUnits[n]}},{key:"_updateMaxFilesReachedClass",value:function e(){if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles){this.emit("maxfilesreached",this.files)}return this.element.classList.add("dz-max-files-reached")}else{return this.element.classList.remove("dz-max-files-reached")}}},{key:"drop",value:function e(t){if(!t.dataTransfer){return}this.emit("drop",t);var i=t.dataTransfer.files;this.emit("addedfiles",i);if(i.length){var n=t.dataTransfer.items;if(n&&n.length&&n[0].webkitGetAsEntry!=null){this._addFilesFromItems(n)}else{this.handleFiles(i)}}}},{key:"paste",value:function e(t){if(__guard__(t!=null?t.clipboardData:undefined,function(e){return e.items})==null){return}this.emit("paste",t);var i=t.clipboardData.items;if(i.length){return this._addFilesFromItems(i)}}},{key:"handleFiles",value:function e(t){var i=this;return t.map(function(e){return i.addFile(e)})}},{key:"_addFilesFromItems",value:function e(t){var i=this;return function(){var e=[];for(var n=t,r=true,a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var l=o;var s;if(l.webkitGetAsEntry!=null&&(s=l.webkitGetAsEntry())){if(s.isFile){e.push(i.addFile(l.getAsFile()))}else if(s.isDirectory){e.push(i._addFilesFromDirectory(s,s.name))}else{e.push(undefined)}}else if(l.getAsFile!=null){if(l.kind==null||l.kind==="file"){e.push(i.addFile(l.getAsFile()))}else{e.push(undefined)}}else{e.push(undefined)}}return e}()}},{key:"_addFilesFromDirectory",value:function e(t,i){var n=this;var r=t.createReader();var a=function e(t){return __guardMethod__(console,"log",function(e){return e.log(t)})};var o=function e(){return r.readEntries(function(t){if(t.length>0){for(var r=t,a=true,o=0,r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{o=r.next();if(o.done)break;l=o.value}var s=l;if(s.isFile){s.file(function(e){if(n.options.ignoreHiddenFiles&&e.name.substring(0,1)==="."){return}e.fullPath=i+"/"+e.name;return n.addFile(e)})}else if(s.isDirectory){n._addFilesFromDirectory(s,i+"/"+s.name)}}e()}return null},a)};return o()}},{key:"accept",value:function e(i,n){if(i.size>this.options.maxFilesize*1024*1024){return n(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(i.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize))}else if(!t.isValidFile(i,this.options.acceptedFiles)){return n(this.options.dictInvalidFileType)}else if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));return this.emit("maxfilesexceeded",i)}else{return this.options.accept.call(this,i,n)}}},{key:"addFile",value:function e(i){var n=this;i.upload={uuid:t.uuidv4(),progress:0,total:i.size,bytesSent:0,filename:this._renameFile(i),chunked:this.options.chunking&&(this.options.forceChunking||i.size>this.options.chunkSize),totalChunkCount:Math.ceil(i.size/this.options.chunkSize)};this.files.push(i);i.status=t.ADDED;this.emit("addedfile",i);this._enqueueThumbnail(i);return this.accept(i,function(e){if(e){i.accepted=false;n._errorProcessing([i],e)}else{i.accepted=true;if(n.options.autoQueue){n.enqueueFile(i)}}return n._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function e(t){for(var i=t,n=true,r=0,i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{r=i.next();if(r.done)break;a=r.value}var o=a;this.enqueueFile(o)}return null}},{key:"enqueueFile",value:function e(i){var n=this;if(i.status===t.ADDED&&i.accepted===true){i.status=t.QUEUED;if(this.options.autoProcessQueue){return setTimeout(function(){return n.processQueue()},0)}}else{throw new Error("This file can't be queued because it has already been processed or was rejected.")}}},{key:"_enqueueThumbnail",value:function e(t){var i=this;if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=this.options.maxThumbnailFilesize*1024*1024){this._thumbnailQueue.push(t);return setTimeout(function(){return i._processThumbnailQueue()},0)}}},{key:"_processThumbnailQueue",value:function e(){var t=this;if(this._processingThumbnail||this._thumbnailQueue.length===0){return}this._processingThumbnail=true;var i=this._thumbnailQueue.shift();return this.createThumbnail(i,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,true,function(e){t.emit("thumbnail",i,e);t._processingThumbnail=false;return t._processThumbnailQueue()})}},{key:"removeFile",value:function e(i){if(i.status===t.UPLOADING){this.cancelUpload(i)}this.files=without(this.files,i);this.emit("removedfile",i);if(this.files.length===0){return this.emit("reset")}}},{key:"removeAllFiles",value:function e(i){if(i==null){i=false}for(var n=this.files.slice(),r=true,a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var l=o;if(l.status!==t.UPLOADING||i){this.removeFile(l)}}return null}},{key:"resizeImage",value:function e(i,n,r,a,o){var l=this;return this.createThumbnail(i,n,r,a,false,function(e,n){if(n===null){return o(i)}else{var r=l.options.resizeMimeType;if(r==null){r=i.type}var a=n.toDataURL(r,l.options.resizeQuality);if(r==="image/jpeg"||r==="image/jpg"){a=ExifRestore.restore(i.dataURL,a)}return o(t.dataURItoBlob(a))}})}},{key:"createThumbnail",value:function e(t,i,n,r,a,o){var l=this;var s=new FileReader;s.onload=function(){t.dataURL=s.result;if(t.type==="image/svg+xml"){if(o!=null){o(s.result)}return}return l.createThumbnailFromUrl(t,i,n,r,a,o)};return s.readAsDataURL(t)}},{key:"createThumbnailFromUrl",value:function e(t,i,n,r,a,o,l){var s=this;var u=document.createElement("img");if(l){u.crossOrigin=l}u.onload=function(){var e=function e(t){return t(1)};if(typeof EXIF!=="undefined"&&EXIF!==null&&a){e=function e(t){return EXIF.getData(u,function(){return t(EXIF.getTag(this,"Orientation"))})}}return e(function(e){t.width=u.width;t.height=u.height;var a=s.options.resize.call(s,t,i,n,r);var l=document.createElement("canvas");var d=l.getContext("2d");l.width=a.trgWidth;l.height=a.trgHeight;if(e>4){l.width=a.trgHeight;l.height=a.trgWidth}switch(e){case 2:d.translate(l.width,0);d.scale(-1,1);break;case 3:d.translate(l.width,l.height);d.rotate(Math.PI);break;case 4:d.translate(0,l.height);d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI);d.scale(1,-1);break;case 6:d.rotate(.5*Math.PI);d.translate(0,-l.height);break;case 7:d.rotate(.5*Math.PI);d.translate(l.width,-l.height);d.scale(-1,1);break;case 8:d.rotate(-.5*Math.PI);d.translate(-l.width,0);break}drawImageIOSFix(d,u,a.srcX!=null?a.srcX:0,a.srcY!=null?a.srcY:0,a.srcWidth,a.srcHeight,a.trgX!=null?a.trgX:0,a.trgY!=null?a.trgY:0,a.trgWidth,a.trgHeight);var c=l.toDataURL("image/png");if(o!=null){return o(c,l)}})};if(o!=null){u.onerror=o}return u.src=t.dataURL}},{key:"processQueue",value:function e(){var t=this.options.parallelUploads;var i=this.getUploadingFiles().length;var n=i;if(i>=t){return}var r=this.getQueuedFiles();if(!(r.length>0)){return}if(this.options.uploadMultiple){return this.processFiles(r.slice(0,t-i))}else{while(n<t){if(!r.length){return}this.processFile(r.shift());n++}}}},{key:"processFile",value:function e(t){return this.processFiles([t])}},{key:"processFiles",value:function e(i){for(var n=i,r=true,a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var l=o;l.processing=true;l.status=t.UPLOADING;this.emit("processing",l)}if(this.options.uploadMultiple){this.emit("processingmultiple",i)}return this.uploadFiles(i)}},{key:"_getFilesWithXhr",value:function e(t){var i=void 0;return i=this.files.filter(function(e){return e.xhr===t}).map(function(e){return e})}},{key:"cancelUpload",value:function e(i){if(i.status===t.UPLOADING){var n=this._getFilesWithXhr(i.xhr);for(var r=n,a=true,o=0,r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{o=r.next();if(o.done)break;l=o.value}var s=l;s.status=t.CANCELED}if(typeof i.xhr!=="undefined"){i.xhr.abort()}for(var u=n,d=true,c=0,u=d?u:u[Symbol.iterator]();;){var f;if(d){if(c>=u.length)break;f=u[c++]}else{c=u.next();if(c.done)break;f=c.value}var p=f;this.emit("canceled",p)}if(this.options.uploadMultiple){this.emit("canceledmultiple",n)}}else if(i.status===t.ADDED||i.status===t.QUEUED){i.status=t.CANCELED;this.emit("canceled",i);if(this.options.uploadMultiple){this.emit("canceledmultiple",[i])}}if(this.options.autoProcessQueue){return this.processQueue()}}},{key:"resolveOption",value:function e(t){if(typeof t==="function"){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++){n[r-1]=arguments[r]}return t.apply(this,n)}return t}},{key:"uploadFile",value:function e(t){return this.uploadFiles([t])}},{key:"uploadFiles",value:function e(i){var n=this;this._transformFiles(i,function(e){if(i[0].upload.chunked){var r=i[0];var a=e[0];var o=0;r.upload.chunks=[];var l=function e(){var l=0;while(r.upload.chunks[l]!==undefined){l++}if(l>=r.upload.totalChunkCount)return;o++;var s=l*n.options.chunkSize;var u=Math.min(s+n.options.chunkSize,r.size);var d={name:n._getParamName(0),data:a.webkitSlice?a.webkitSlice(s,u):a.slice(s,u),
filename:r.upload.filename,chunkIndex:l};r.upload.chunks[l]={file:r,index:l,dataBlock:d,status:t.UPLOADING,progress:0,retries:0};n._uploadData(i,[d])};r.upload.finishedChunkUpload=function(e){var a=true;e.status=t.SUCCESS;e.dataBlock=null;for(var o=0;o<r.upload.totalChunkCount;o++){if(r.upload.chunks[o]===undefined){return l()}if(r.upload.chunks[o].status!==t.SUCCESS){a=false}}if(a){n.options.chunksUploaded(r,function(){n._finished(i,"",null)})}};if(n.options.parallelChunkUploads){for(var s=0;s<r.upload.totalChunkCount;s++){l()}}else{l()}}else{var u=[];for(var d=0;d<i.length;d++){u[d]={name:n._getParamName(d),data:e[d],filename:i[d].upload.filename}}n._uploadData(i,u)}})}},{key:"_getChunk",value:function e(t,i){for(var n=0;n<t.upload.totalChunkCount;n++){if(t.upload.chunks[n]!==undefined&&t.upload.chunks[n].xhr===i){return t.upload.chunks[n]}}}},{key:"_uploadData",value:function e(i,n){var r=this;var a=new XMLHttpRequest;for(var o=i,l=true,s=0,o=l?o:o[Symbol.iterator]();;){var u;if(l){if(s>=o.length)break;u=o[s++]}else{s=o.next();if(s.done)break;u=s.value}var d=u;d.xhr=a}if(i[0].upload.chunked){i[0].upload.chunks[n[0].chunkIndex].xhr=a}var c=this.resolveOption(this.options.method,i);var f=this.resolveOption(this.options.url,i);a.open(c,f,true);a.timeout=this.resolveOption(this.options.timeout,i);a.withCredentials=!!this.options.withCredentials;a.onload=function(e){r._finishedUploading(i,a,e)};a.onerror=function(){r._handleUploadError(i,a)};var p=a.upload!=null?a.upload:a;p.onprogress=function(e){return r._updateFilesUploadProgress(i,a,e)};var h={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};if(this.options.headers){t.extend(h,this.options.headers)}for(var v in h){var m=h[v];if(m){a.setRequestHeader(v,m)}}var g=new FormData;if(this.options.params){var k=this.options.params;if(typeof k==="function"){k=k.call(this,i,a,i[0].upload.chunked?this._getChunk(i[0],a):null)}for(var b in k){var y=k[b];g.append(b,y)}}for(var F=i,w=true,x=0,F=w?F:F[Symbol.iterator]();;){var E;if(w){if(x>=F.length)break;E=F[x++]}else{x=F.next();if(x.done)break;E=x.value}var z=E;this.emit("sending",z,a,g)}if(this.options.uploadMultiple){this.emit("sendingmultiple",i,a,g)}this._addFormElementData(g);for(var C=0;C<n.length;C++){var S=n[C];g.append(S.name,S.data,S.filename)}this.submitRequest(a,g,i)}},{key:"_transformFiles",value:function e(t,i){var n=this;var r=[];var a=0;var o=function e(o){n.options.transformFile.call(n,t[o],function(e){r[o]=e;if(++a===t.length){i(r)}})};for(var l=0;l<t.length;l++){o(l)}}},{key:"_addFormElementData",value:function e(t){if(this.element.tagName==="FORM"){for(var i=this.element.querySelectorAll("input, textarea, select, button"),n=true,r=0,i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{r=i.next();if(r.done)break;a=r.value}var o=a;var l=o.getAttribute("name");var s=o.getAttribute("type");if(s)s=s.toLowerCase();if(typeof l==="undefined"||l===null)continue;if(o.tagName==="SELECT"&&o.hasAttribute("multiple")){for(var u=o.options,d=true,c=0,u=d?u:u[Symbol.iterator]();;){var f;if(d){if(c>=u.length)break;f=u[c++]}else{c=u.next();if(c.done)break;f=c.value}var p=f;if(p.selected){t.append(l,p.value)}}}else if(!s||s!=="checkbox"&&s!=="radio"||o.checked){t.append(l,o.value)}}}}},{key:"_updateFilesUploadProgress",value:function e(t,i,n){var r=void 0;if(typeof n!=="undefined"){r=100*n.loaded/n.total;if(t[0].upload.chunked){var a=t[0];var o=this._getChunk(a,i);o.progress=r;o.total=n.total;o.bytesSent=n.loaded;var l=0,s=void 0,u=void 0;a.upload.progress=0;a.upload.total=0;a.upload.bytesSent=0;for(var d=0;d<a.upload.totalChunkCount;d++){if(a.upload.chunks[d]!==undefined&&a.upload.chunks[d].progress!==undefined){a.upload.progress+=a.upload.chunks[d].progress;a.upload.total+=a.upload.chunks[d].total;a.upload.bytesSent+=a.upload.chunks[d].bytesSent}}a.upload.progress=a.upload.progress/a.upload.totalChunkCount}else{for(var c=t,f=true,p=0,c=f?c:c[Symbol.iterator]();;){var h;if(f){if(p>=c.length)break;h=c[p++]}else{p=c.next();if(p.done)break;h=p.value}var v=h;v.upload.progress=r;v.upload.total=n.total;v.upload.bytesSent=n.loaded}}for(var m=t,g=true,k=0,m=g?m:m[Symbol.iterator]();;){var b;if(g){if(k>=m.length)break;b=m[k++]}else{k=m.next();if(k.done)break;b=k.value}var y=b;this.emit("uploadprogress",y,y.upload.progress,y.upload.bytesSent)}}else{var F=true;r=100;for(var w=t,x=true,E=0,w=x?w:w[Symbol.iterator]();;){var z;if(x){if(E>=w.length)break;z=w[E++]}else{E=w.next();if(E.done)break;z=E.value}var C=z;if(C.upload.progress!==100||C.upload.bytesSent!==C.upload.total){F=false}C.upload.progress=r;C.upload.bytesSent=C.upload.total}if(F){return}for(var S=t,_=true,D=0,S=_?S:S[Symbol.iterator]();;){var L;if(_){if(D>=S.length)break;L=S[D++]}else{D=S.next();if(D.done)break;L=D.value}var A=L;this.emit("uploadprogress",A,r,A.upload.bytesSent)}}}},{key:"_finishedUploading",value:function e(i,n,r){var a=void 0;if(i[0].status===t.CANCELED){return}if(n.readyState!==4){return}if(n.responseType!=="arraybuffer"&&n.responseType!=="blob"){a=n.responseText;if(n.getResponseHeader("content-type")&&~n.getResponseHeader("content-type").indexOf("application/json")){try{a=JSON.parse(a)}catch(e){r=e;a="Invalid JSON response from server."}}}this._updateFilesUploadProgress(i);if(!(200<=n.status&&n.status<300)){this._handleUploadError(i,n,a)}else{if(i[0].upload.chunked){i[0].upload.finishedChunkUpload(this._getChunk(i[0],n))}else{this._finished(i,a,r)}}}},{key:"_handleUploadError",value:function e(i,n,r){if(i[0].status===t.CANCELED){return}if(i[0].upload.chunked&&this.options.retryChunks){var a=this._getChunk(i[0],n);if(a.retries++<this.options.retryChunksLimit){this._uploadData(i,[a.dataBlock]);return}else{console.warn("Retried this chunk too often. Giving up.")}}for(var o=i,l=true,s=0,o=l?o:o[Symbol.iterator]();;){var u;if(l){if(s>=o.length)break;u=o[s++]}else{s=o.next();if(s.done)break;u=s.value}var d=u;this._errorProcessing(i,r||this.options.dictResponseError.replace("{{statusCode}}",n.status),n)}}},{key:"submitRequest",value:function e(t,i,n){t.send(i)}},{key:"_finished",value:function e(i,n,r){for(var a=i,o=true,l=0,a=o?a:a[Symbol.iterator]();;){var s;if(o){if(l>=a.length)break;s=a[l++]}else{l=a.next();if(l.done)break;s=l.value}var u=s;u.status=t.SUCCESS;this.emit("success",u,n,r);this.emit("complete",u)}if(this.options.uploadMultiple){this.emit("successmultiple",i,n,r);this.emit("completemultiple",i)}if(this.options.autoProcessQueue){return this.processQueue()}}},{key:"_errorProcessing",value:function e(i,n,r){for(var a=i,o=true,l=0,a=o?a:a[Symbol.iterator]();;){var s;if(o){if(l>=a.length)break;s=a[l++]}else{l=a.next();if(l.done)break;s=l.value}var u=s;u.status=t.ERROR;this.emit("error",u,n,r);this.emit("complete",u)}if(this.options.uploadMultiple){this.emit("errormultiple",i,n,r);this.emit("completemultiple",i)}if(this.options.autoProcessQueue){return this.processQueue()}}}],[{key:"uuidv4",value:function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,i=e==="x"?t:t&3|8;return i.toString(16)})}}]);return t}(Emitter);Dropzone.initClass();Dropzone.version="5.2.0";Dropzone.options={};Dropzone.optionsForElement=function(e){if(e.getAttribute("id")){return Dropzone.options[camelize(e.getAttribute("id"))]}else{return undefined}};Dropzone.instances=[];Dropzone.forElement=function(e){if(typeof e==="string"){e=document.querySelector(e)}if((e!=null?e.dropzone:undefined)==null){throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.")}return e.dropzone};Dropzone.autoDiscover=true;Dropzone.discover=function(){var e=void 0;if(document.querySelectorAll){e=document.querySelectorAll(".dropzone")}else{e=[];var t=function t(i){return function(){var t=[];for(var n=i,r=true,a=0,n=r?n:n[Symbol.iterator]();;){var o;if(r){if(a>=n.length)break;o=n[a++]}else{a=n.next();if(a.done)break;o=a.value}var l=o;if(/(^| )dropzone($| )/.test(l.className)){t.push(e.push(l))}else{t.push(undefined)}}return t}()};t(document.getElementsByTagName("div"));t(document.getElementsByTagName("form"))}return function(){var t=[];for(var i=e,n=true,r=0,i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{r=i.next();if(r.done)break;a=r.value}var o=a;if(Dropzone.optionsForElement(o)!==false){t.push(new Dropzone(o))}else{t.push(undefined)}}return t}()};Dropzone.blacklistedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];Dropzone.isBrowserSupported=function(){var e=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList"in document.createElement("a"))){e=false}else{for(var t=Dropzone.blacklistedBrowsers,i=true,n=0,t=i?t:t[Symbol.iterator]();;){var r;if(i){if(n>=t.length)break;r=t[n++]}else{n=t.next();if(n.done)break;r=n.value}var a=r;if(a.test(navigator.userAgent)){e=false;continue}}}}else{e=false}return e};Dropzone.dataURItoBlob=function(e){var t=atob(e.split(",")[1]);var i=e.split(",")[0].split(":")[1].split(";")[0];var n=new ArrayBuffer(t.length);var r=new Uint8Array(n);for(var a=0,o=t.length,l=0<=o;l?a<=o:a>=o;l?a++:a--){r[a]=t.charCodeAt(a)}return new Blob([n],{type:i})};var without=function e(t,i){return t.filter(function(e){return e!==i}).map(function(e){return e})};var camelize=function e(t){return t.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})};Dropzone.createElement=function(e){var t=document.createElement("div");t.innerHTML=e;return t.childNodes[0]};Dropzone.elementInside=function(e,t){if(e===t){return true}while(e=e.parentNode){if(e===t){return true}}return false};Dropzone.getElement=function(e,t){var i=void 0;if(typeof e==="string"){i=document.querySelector(e)}else if(e.nodeType!=null){i=e}if(i==null){throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.")}return i};Dropzone.getElements=function(e,t){var i=void 0,n=void 0;if(e instanceof Array){n=[];try{for(var r=e,a=true,o=0,r=a?r:r[Symbol.iterator]();;){if(a){if(o>=r.length)break;i=r[o++]}else{o=r.next();if(o.done)break;i=o.value}n.push(this.getElement(i,t))}}catch(e){n=null}}else if(typeof e==="string"){n=[];for(var l=document.querySelectorAll(e),s=true,u=0,l=s?l:l[Symbol.iterator]();;){if(s){if(u>=l.length)break;i=l[u++]}else{u=l.next();if(u.done)break;i=u.value}n.push(i)}}else if(e.nodeType!=null){n=[e]}if(n==null||!n.length){throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.")}return n};Dropzone.confirm=function(e,t,i){if(window.confirm(e)){return t()}else if(i!=null){return i()}};Dropzone.isValidFile=function(e,t){if(!t){return true}t=t.split(",");var i=e.type;var n=i.replace(/\/.*$/,"");for(var r=t,a=true,o=0,r=a?r:r[Symbol.iterator]();;){var l;if(a){if(o>=r.length)break;l=r[o++]}else{o=r.next();if(o.done)break;l=o.value}var s=l;s=s.trim();if(s.charAt(0)==="."){if(e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length)!==-1){return true}}else if(/\/\*$/.test(s)){if(n===s.replace(/\/.*$/,"")){return true}}else{if(i===s){return true}}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null){jQuery.fn.dropzone=function(e){return this.each(function(){return new Dropzone(this,e)})}}if(typeof module!=="undefined"&&module!==null){module.exports=Dropzone}else{window.Dropzone=Dropzone}Dropzone.ADDED="added";Dropzone.QUEUED="queued";Dropzone.ACCEPTED=Dropzone.QUEUED;Dropzone.UPLOADING="uploading";Dropzone.PROCESSING=Dropzone.UPLOADING;Dropzone.CANCELED="canceled";Dropzone.ERROR="error";Dropzone.SUCCESS="success";var detectVerticalSquash=function e(t){var i=t.naturalWidth;var n=t.naturalHeight;var r=document.createElement("canvas");r.width=1;r.height=n;var a=r.getContext("2d");a.drawImage(t,0,0);var o=a.getImageData(1,0,1,n),l=o.data;var s=0;var u=n;var d=n;while(d>s){var c=l[(d-1)*4+3];if(c===0){u=d}else{s=d}d=u+s>>1}var f=d/n;if(f===0){return 1}else{return f}};var drawImageIOSFix=function e(t,i,n,r,a,o,l,s,u,d){var c=detectVerticalSquash(i);return t.drawImage(i,n,r,a,o,l,s,u,d/c)};var ExifRestore=function(){function e(){_classCallCheck(this,e)}_createClass(e,null,[{key:"initClass",value:function e(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function e(t){var i="";var n=undefined;var r=undefined;var a="";var o=undefined;var l=undefined;var s=undefined;var u="";var d=0;while(true){n=t[d++];r=t[d++];a=t[d++];o=n>>2;l=(n&3)<<4|r>>4;s=(r&15)<<2|a>>6;u=a&63;if(isNaN(r)){s=u=64}else if(isNaN(a)){u=64}i=i+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(u);n=r=a="";o=l=s=u="";if(!(d<t.length)){break}}return i}},{key:"restore",value:function e(t,i){if(!t.match("data:image/jpeg;base64,")){return i}var n=this.decode64(t.replace("data:image/jpeg;base64,",""));var r=this.slice2Segments(n);var a=this.exifManipulation(i,r);return"data:image/jpeg;base64,"+this.encode64(a)}},{key:"exifManipulation",value:function e(t,i){var n=this.getExifArray(i);var r=this.insertExif(t,n);var a=new Uint8Array(r);return a}},{key:"getExifArray",value:function e(t){var i=undefined;var n=0;while(n<t.length){i=t[n];if(i[0]===255&i[1]===225){return i}n++}return[]}},{key:"insertExif",value:function e(t,i){var n=t.replace("data:image/jpeg;base64,","");var r=this.decode64(n);var a=r.indexOf(255,3);var o=r.slice(0,a);var l=r.slice(a);var s=o;s=s.concat(i);s=s.concat(l);return s}},{key:"slice2Segments",value:function e(t){var i=0;var n=[];while(true){var r;if(t[i]===255&t[i+1]===218){break}if(t[i]===255&t[i+1]===216){i+=2}else{r=t[i+2]*256+t[i+3];var a=i+r+2;var o=t.slice(i,a);n.push(o);i=a}if(i>t.length){break}}return n}},{key:"decode64",value:function e(t){var i="";var n=undefined;var r=undefined;var a="";var o=undefined;var l=undefined;var s=undefined;var u="";var d=0;var c=[];var f=/[^A-Za-z0-9\+\/\=]/g;if(f.exec(t)){console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.")}t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(true){o=this.KEY_STR.indexOf(t.charAt(d++));l=this.KEY_STR.indexOf(t.charAt(d++));s=this.KEY_STR.indexOf(t.charAt(d++));u=this.KEY_STR.indexOf(t.charAt(d++));n=o<<2|l>>4;r=(l&15)<<4|s>>2;a=(s&3)<<6|u;c.push(n);if(s!==64){c.push(r)}if(u!==64){c.push(a)}n=r=a="";o=l=s=u="";if(!(d<t.length)){break}}return c}}]);return e}();ExifRestore.initClass();var contentLoaded=function e(t,i){var n=false;var r=true;var a=t.document;var o=a.documentElement;var l=a.addEventListener?"addEventListener":"attachEvent";var s=a.addEventListener?"removeEventListener":"detachEvent";var u=a.addEventListener?"":"on";var d=function e(r){if(r.type==="readystatechange"&&a.readyState!=="complete"){return}(r.type==="load"?t:a)[s](u+r.type,e,false);if(!n&&(n=true)){return i.call(t,r.type||r)}};var c=function e(){try{o.doScroll("left")}catch(t){setTimeout(e,50);return}return d("poll")};if(a.readyState!=="complete"){if(a.createEventObject&&o.doScroll){try{r=!t.frameElement}catch(e){}if(r){c()}}a[l](u+"DOMContentLoaded",d,false);a[l](u+"readystatechange",d,false);return t[l](u+"load",d,false)}};Dropzone._autoDiscoverFunction=function(){if(Dropzone.autoDiscover){return Dropzone.discover()}};contentLoaded(window,Dropzone._autoDiscoverFunction);function __guard__(e,t){return typeof e!=="undefined"&&e!==null?t(e):undefined}function __guardMethod__(e,t,i){if(typeof e!=="undefined"&&e!==null&&typeof e[t]==="function"){return i(e,t)}else{return undefined}}(function(){var e=document.documentElement;e.classList.remove("no-js");e.classList.add("js")})();$(document).scroll(function(){navbarScroll()});function navbarScroll(){var e=window.scrollY;if(e>10){$(".header").addClass("small")}else if(e<10){$(".header").removeClass("small")}}var $form=$("form"),$successMsg=$(".alert");$.validator.addMethod("letters",function(e,t){return this.optional(t)||e==e.match(/^[a-zA-Z ]*$/)});$form.validate({rules:{name:{required:true,minlength:3,letters:true},email:{required:true,email:true}},messages:{name:"Please specify your name (only letters and spaces are allowed)",email:"Please specify a valid email address"},submitHandler:function(){$successMsg.show()}});(function(){if(!window.localStorage.getItem("hasVisited")){document.querySelector(".Tour").classList.add("is-active");window.localStorage.setItem("hasVisited","true")}})();